{{ if eq .Values.gkeHubMembership.enabled "true" }}
apiVersion: gkehub.cnrm.cloud.google.com/v1beta1
kind: GKEHubMembership
metadata:
  name: {{ default "standard-cluster" .Values.cluster.name }}
  namespace: {{ default .Values.projectId .Values.gkeHubMembership.hostProjectId }}
  annotations:
    cnrm.cloud.google.com/project-id: {{ default .Values.projectId .Values.gkeHubMembership.hostProjectId }}
spec:
  location: global
  endpoint:
    gkeCluster:
      resourceRef:
        name: {{ default "standard-cluster" .Values.cluster.name }}
        namespace: {{ .Values.projectId }}
{{ end }}